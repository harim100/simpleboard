<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mssql.mybatis.firstBMapper">
<insert id="boardInsert"  parameterType="map">
INSERT INTO Bd_Board
           (Title
           ,Content
           ,ImagePath
           ,InsDate
           ,IsUse
           ,CustomerNum
           )
VALUES ( 
	 #{title}
	,#{content}
	,#{imagePath}
	,convert(varchar(10), getdate(), 120)
	,'Y'
	,#{customerNum}
 	)
</insert>

<select id="boardList" resultType="map">
	SELECT
		BrdIdx
		,Title
		,Content
		,ImagePath
		,CONVERT(varchar(10), InsDate, 23) AS InsDate
		,IsUse
		,CONVERT(varchar(10), UpdateDate, 23) AS UpdateDate
		,CustomerNum
	FROM Bd_Board
	ORDER BY BrdIdx desc
</select>

<select id="boardSelect" resultType="com.board.vo.BoardVO">
	SELECT
		BrdIdx
		,Title
		,Content
		,ImagePath
		,CONVERT(varchar(10), InsDate, 23) AS InsDate
		,CONVERT(varchar(10), UpdateDate, 23) AS UpdateDate
		,CustomerNum
	FROM Bd_Board
	WHERE BrdIdx = #{idx}
</select>

<select id="titleList" parameterType="map" resultType="map">
   SELECT Title FROM Bd_Board
	ORDER BY BrdIdx desc
</select>

<delete id="boardDelete" parameterType="map">
	DELETE FROM Bd_Board
	WHERE BrdIdx = #{idx}
</delete>

<update id="boardUpdate" parameterType="map">
	UPDATE Bd_Board
	SET  Title = '#{title}'
		,Content = '#{content}'
		,ImagePath = '#{imagePath}'
		,UpdateDate = CONVERT(varchar(10), getDate(), 23)
	WHERE BrdIdx = #{idx}

</update>
 
</mapper>