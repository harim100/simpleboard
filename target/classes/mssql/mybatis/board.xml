<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mssql.mybatis.firstBMapper">
<insert id="posting_insert"  parameterType="map">
INSERT INTO Bd_Board
           (BoardNum
           ,CustomerId
           ,BoardTitle
           ,BoardContent
           ,BoardImagePath
           ,BoardImageSize
           ,BoardDate)
VALUES ( 
	 SeqBdNum.NEXTVAL
	,#{CustomerId    }
	,#{BoardTitle    }
	,#{BoardContent  }
	,#{BoardImagePath}
	,#{BoardImageSize}
	,convert(varchar(10), getdate(), 120)
 	)
</insert>

<select id="boardList" resultType="map">
	SELECT
		BrdIdx
		,Title
		,Content
		,ImagePath
		,CONVERT(varchar(10), InsDate, 23) AS InsDate
		,IsUse
		,CONVERT(varchar(10), UpdateDate, 23) AS UpdateDate
	FROM Bd_Board
	ORDER BY BrdIdx desc
</select>

<select id="boardSelect" resultType="com.board.vo.BoardVO">
	SELECT
		BrdIdx
		,Title
		,Content
		,ImagePath
		,CONVERT(varchar(10), InsDate, 23) AS InsDate
	FROM Bd_Board
	WHERE BrdIdx = ${idx}
</select>

  <select id="titleList" parameterType="map" resultType="map">
   SELECT Title FROM Bd_Board
	ORDER BY BrdIdx desc
 </select>
 
</mapper>